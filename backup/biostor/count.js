{"_id":"_design/count","_rev":"2-2fdd8123d3138167e842d84317ab55d6","language":"javascript","views":{"identifier":{"map":"function(doc) {\n  if (doc.identifier) {\n    for (var i in doc.identifier) {\n      emit(doc.identifier[i].type, 1);\n    }\n  }\n}","reduce":"_sum"},"stats":{"map":"function(doc) {\n  if (doc._id.match(/^biostor/)) {\n    emit('biostor', 1);\n  }\n\n  if (doc._id.match(/^page/)) {\n    emit('page', 1);\n  }\n\n  if (doc.bhl_pages) {\n    var keys = Object.keys(doc.bhl_pages);\n    emit('bhl_page', keys.length);\n  }\n\n if (doc.geometry) {\n   if (doc.geometry.coordinates) {\n     switch (doc.geometry.type) {\n       case 'MultiPoint':\n         emit('points', doc.geometry.coordinates.length);\n         break;\n       default:\n         break;\n     }\n   }\n  }\n\n  if (doc.identifier) {\n    for (var i in doc.identifier) {\n      switch (doc.identifier[i].type) {\n        case 'doi':\n           emit(doc.identifier[i].type, 1);\n           break;\n        default:\n           break;\n      }\n    }\n  }\n}","reduce":"_sum"}}}
